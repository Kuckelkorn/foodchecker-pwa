const startCamera=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}),t=document.querySelector("video");t.srcObject=await e,await t.play();const o=737628064502,a=document.querySelector("form input");a.type="hidden",a.value=o;document.querySelector("#scan").addEventListener("click",(()=>{endCamera()}))}catch(e){console.log(e)}},getBarcode=async e=>{if("BarcodeDetector"in window){const t=await BarcodeDetector.getSupportedFormats(),o=new BarcodeDetector({formats:await t});window.setInterval((async()=>{const t=await o.detect(e);return!t.length<=0?(console.log(await t[0].rawValue),t[0].rawValue):"no barcode detected"}),100)}else console.log("Barcode Detector is not supported by this browser.")},endCamera=()=>{const e=document.querySelector("video");e.srcObject.getTracks().forEach((function(e){e.stop()})),e.srcObject=null;for(let e=1;e<99999;e++)window.clearInterval(e);console.log("camera stopped")};startCamera();
